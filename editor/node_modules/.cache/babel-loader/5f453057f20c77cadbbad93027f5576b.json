{"ast":null,"code":"import _classCallCheck from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/createSuper.js\";//        Config.jsx     Config React Component\n//\n//        Copyright (c) 2018, California Institute of Technology.\n//        ALL RIGHTS RESERVED.  U.S. Government Sponsorship\n//        acknowledged.\n//                                                                   \n//      Author: Rick Borgen, Jet Propulsion Laboratory         \n//                                                               \nimport React from'react';import\"date-format-lite\";import{FormControl}from'react-bootstrap';import{Grid,Row,Col}from'react-bootstrap';import{Label,Button,ButtonToolbar}from'react-bootstrap';import{Glyphicon,Panel}from'react-bootstrap';import{Alert}from'react-bootstrap';import{saveAs}from\"file-saver\";import cmdTypes from'./cmdTypes.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Config=/*#__PURE__*/function(_React$Component){_inherits(Config,_React$Component);var _super=_createSuper(Config);function Config(props){var _this;_classCallCheck(this,Config);_this=_super.call(this,props);_this.edit=function(){// activated by Edit/Submit button\nvar newState=Object.assign({},_this.state);var editMode=_this.state.editMode;if(editMode)_this.submit();else{console.log(\"let's edit!\");newState.viewMode=true;// force viewing\n}newState.editMode=!editMode;// toggle mode\n_this.setState(newState);};_this.noedit=function(){// activated by Edit/Submit button\nvar newState=Object.assign({},_this.state);newState.editMode=false;// cancel editing\nnewState.viewMode=false;// cancel viewing\n_this.setState(newState);};_this.submit=function(){// callable by edit (above)\nconsole.log(\"submit config updates!\"+JSON.stringify(_this.props.desc));return;// update config does not do anything yet\n//this.props.dispatch(tran);\n};_this.deleteOn=function(){var newState=Object.assign({},_this.state);newState.deleteMode=true;// activate delete mode\n_this.setState(newState);};_this.deleteOff=function(){var newState=Object.assign({},_this.state);newState.deleteMode=false;// cancel delete mode\n_this.setState(newState);};_this.delete=function(){console.log(\"submit delete!  cmdKey:\"+_this.props.cmdKey);// first delete all commands\nvar cmdKeys=_this.props.cmdKeys;for(var i=0;i<cmdKeys.length;i++){var cmdKey=cmdKeys[i];console.log(\"delete command: \"+cmdKey);var tranCmd={action:\"DELETE-COMMAND\",nodeKey:_this.props.nodeKey,configKey:_this.props.name,cmdKey:cmdKey};_this.props.dispatch(tranCmd);};// now we can delete config\nconsole.log(\"delete config: \"+_this.props.name);var tranConfig={action:\"DELETE-CONFIG\",nodeKey:_this.props.nodeKey,configKey:_this.props.name};_this.props.dispatch(tranConfig);};_this.view=function(){// activated by view/hide button\nvar newState=Object.assign({},_this.state);var viewMode=_this.state.viewMode;if(viewMode)console.log(\"let's hide view panel!\");else console.log(\"let's show view panel!\");newState.viewMode=!viewMode;_this.setState(newState);};_this.info=function(){console.log(\"let's peek!\");var newMode=!_this.state.configOpen;_this.setState({configOpen:newMode});};_this.saveme=function(){console.log(\"let's save me!\");var configKey=_this.props.name;var cmdLines=_this.props.makeCmdLines(configKey);var lf=\"\\n\";// assign linefeed format for text files\nvar host=_this.props.host;// get host object of node\nif(host)// host only if a node config, not a graph\nif(host.linefeed==='windows')// windows is different\nlf=\"\\r\\n\";var page=cmdLines.join(lf)+lf;var blob=new Blob([page],{type:\"text/plain; charset=utf-8\"});saveAs(blob,_this.props.name,true);// true = disable autoBOM\n};_this.newcmd=function(){console.log(\"add a new command!\");_this.setState({newCommand:true});};_this.nonewcmd=function(){console.log(\"cancel add a new command!\");_this.setState({newCommand:false});};_this.toggle=function(){console.log(\"let's toggle commands!\");var newMode=!_this.state.expandMode;_this.setState({expandMode:newMode});};_this.handleNewCommand=function(e){console.log(\"a new command!\"+e);var val=e.target.value;console.log(\"command name = \"+val);var tran={action:\"NEW-COMMAND\",nodeKey:_this.props.nodeKey,configKey:_this.props.name,cmdTypeKey:val};_this.props.dispatch(tran);_this.setState({newCommand:false,expandMode:true});e.preventDefault();};_this.handleConfigChange=function(prop,e){console.log(\"a value change of\"+prop+e);console.log(\"$$$$ should not happen for config!!\");var newState=Object.assign({},_this.state);newState[prop]=e.target.value;_this.setState(newState);e.preventDefault();};console.log(\"Config ctor \"+props.name);_this.state={editMode:false,deleteMode:false,viewMode:false,configOpen:false,expandMode:false,newCommand:false};return _this;}_createClass(Config,[{key:\"makeConfigEditor\",value:function makeConfigEditor(){var configElems=[];var icon='remove';var content=this.props.configType.content;var program=this.props.configType.program;var deleteMode=this.state.deleteMode;var deleteAlert=null;if(deleteMode)deleteAlert=this.makeDeleteAlertElem();var head=/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:5,children:[\" \",/*#__PURE__*/_jsx(Label,{bsSize:\"lg\",bsStyle:\"default\",children:\"Config File Editor\"})]}),/*#__PURE__*/_jsx(Col,{sm:2,children:/*#__PURE__*/_jsxs(ButtonToolbar,{children:[/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"danger\",onClick:this.deleteOn,children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"success\",onClick:this.noedit,children:/*#__PURE__*/_jsx(Glyphicon,{glyph:icon})})]})}),/*#__PURE__*/_jsx(Col,{sm:5,children:deleteAlert})]},\"head\");configElems.push(head);var nameElem=this.makeConfigElem(\"\",\"text\",this.props.name,\"Config File Name\",1,true,\"\");configElems.push(nameElem);var descElem=this.makeConfigElem(\"desc\",\"text\",content,\"Description\",3,true,\"\");configElems.push(descElem);var programElem=this.makeConfigElem(\"program\",\"text\",program,\"Program\",1,true,\"\");configElems.push(programElem);return/*#__PURE__*/_jsxs(\"div\",{children:[configElems,/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:2}),/*#__PURE__*/_jsx(Col,{sm:6,children:\"Note: No config fields are editable at this time. Delete is supported.\"})]})]});}},{key:\"makeConfigViewer\",value:function makeConfigViewer(){//console.log(\">>makeNodeElems \" + JSON.stringify(this.state));\nvar configElems=[];var content=this.props.configType.content;var program=this.props.configType.program;var head=/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{sm:2,children:[\" \",/*#__PURE__*/_jsx(Label,{bsSize:\"lg\",bsStyle:\"default\",children:\"Config File Viewer\"})]})},\"head\");configElems.push(head);var nameElem=this.makeConfigElem(\"\",\"text\",this.props.name,\"Config File Name\",1,true,\"\");configElems.push(nameElem);var descElem=this.makeConfigElem(\"desc\",\"text\",content,\"Description\",3,true,\"\");configElems.push(descElem);var programElem=this.makeConfigElem(\"program\",\"text\",program,\"Program\",1,true,\"\");configElems.push(programElem);return/*#__PURE__*/_jsx(\"div\",{children:configElems});}},{key:\"makeConfigElem\",value:function makeConfigElem(prop,type,val,label,size,read,note){//console.log(\">>MakeNodeElem \" + prop + ' ' + type + ' ' + val + ' ' + size);\nvar form=/*#__PURE__*/_jsx(FormControl,{readOnly:read,bsSize:\"sm\",type:type,value:val,onChange:this.handleConfigChange.bind(null,prop)});return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"text-right\",sm:2,children:/*#__PURE__*/_jsx(\"b\",{children:label})}),/*#__PURE__*/_jsx(Col,{sm:size,value:val,children:form}),/*#__PURE__*/_jsx(Col,{sm:size,value:2,children:note})]},label);}},{key:\"makeNewCommandElem\",value:function makeNewCommandElem(){//console.log(\"makeNewCommandElems cmdTypes: \" + this.props.configType.cmdTypes);\nvar optionItems=[];optionItems[0]=/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"<none>\"},\"none\");var allCmdTypes=this.props.configType.cmdTypes;// all cmd Types for all versions\nvar nodeCmdTypes=[];// cmd Types for the node's version\nvar nodeKey=this.props.nodeKey;var ionVerSeqNo=this.props.getIonVerSeqNo(nodeKey);// select correct commands for this node version\nconsole.log(\"??? makeCmdElem  seqno= \"+ionVerSeqNo.toString());for(var i=0;i<allCmdTypes.length;i++){var cmdTypeKey=allCmdTypes[i];var cmdType=cmdTypes[cmdTypeKey];console.log(\"??? cmd: \"+JSON.stringify(cmdType));if(cmdType.verFrom<=ionVerSeqNo&&cmdType.verThru>=ionVerSeqNo){console.log(\"??? selected \"+cmdType.name);nodeCmdTypes.push(cmdTypeKey);}};var mainOptions=nodeCmdTypes.map(function(cmdTypeKey){var cmdType=cmdTypes[cmdTypeKey];var cmdname=cmdType.name;console.log(\"makeNewCommandElems cmdname: \"+cmdname);return/*#__PURE__*/_jsx(\"option\",{value:cmdTypeKey,children:cmdname},cmdname);});optionItems.push(mainOptions);var form=/*#__PURE__*/_jsx(FormControl,{bsSize:\"sm\",componentClass:\"select\",placeholder:\"\",onChange:this.handleNewCommand,children:optionItems});var icon='remove';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",sm:2,children:/*#__PURE__*/_jsx(\"b\",{children:\"Select new command:\"})}),/*#__PURE__*/_jsx(Col,{sm:2,children:form}),/*#__PURE__*/_jsx(Col,{sm:1,children:/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"success\",onClick:this.nonewcmd,children:/*#__PURE__*/_jsx(Glyphicon,{glyph:icon})})})]});//return form;\n}},{key:\"makeDeleteAlertElem\",value:function makeDeleteAlertElem(msg){//<Col sm={3}><b>Are you sure?</b></Col>\n//<Col sm={1}>\n//</Col>\nreturn/*#__PURE__*/_jsxs(Alert,{bsStyle:\"danger\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Confirm delete of config file and all its commands?\"}),/*#__PURE__*/_jsxs(ButtonToolbar,{children:[/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"danger\",onClick:this.delete,children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"success\",onClick:this.deleteOff,children:\"Cancel\"})]})]});}},{key:\"makeInfo\",value:function makeInfo(){var configKey=this.props.name;var cmdLines=this.props.makeCmdLines(configKey);var lf=\"\\n\";// assign linefeed format for text files\nvar page=cmdLines.join(lf)+lf;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"pre\",{children:page})});}},{key:\"render\",value:function render(){var expandMode=this.state.expandMode;var editMode=this.state.editMode;var viewMode=this.state.viewMode;var content=this.props.configType.content;var icon=this.state.expandMode?'chevron-down':'chevron-right';var configOpen=this.state.configOpen;var infoTag=this.state.configOpen?\"Hide File\":\"Show File\";var dimNewCmd=this.state.newCommand?true:false;var cmdEntry=this.state.newCommand?this.makeNewCommandElem():\"\";var editLabel=editMode?'Submit':'Edit';var viewLabel=viewMode?'Hide':'Show';var viewPanel=null;if(viewMode)if(editMode)viewPanel=this.makeConfigEditor();else viewPanel=this.makeConfigViewer();return/*#__PURE__*/_jsxs(Grid,{fluid:true,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-4\",children:[/*#__PURE__*/_jsxs(Col,{className:\"text-right\",sm:1,children:[\" \",/*#__PURE__*/_jsx(Label,{bsSize:\"lg\",bsStyle:\"default\",children:\"Config File\"})]}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",sm:1,children:/*#__PURE__*/_jsx(\"b\",{children:this.props.name})}),/*#__PURE__*/_jsx(Col,{className:\"text-left\",sm:3,children:content}),/*#__PURE__*/_jsx(Col,{sm:4,children:/*#__PURE__*/_jsxs(ButtonToolbar,{children:[/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"primary\",onClick:this.edit,children:editLabel}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"info\",onClick:this.view,children:viewLabel}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"info\",onClick:this.info,children:infoTag}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"primary\",onClick:this.saveme,children:\"Save File\"}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"primary\",disabled:dimNewCmd,onClick:this.newcmd,children:\"New Command\"}),/*#__PURE__*/_jsxs(Button,{bsSize:\"sm\",bsStyle:\"success\",onClick:this.toggle,children:[\" \",/*#__PURE__*/_jsx(Glyphicon,{glyph:icon}),' ']})]})})]})}),/*#__PURE__*/_jsx(Row,{children:cmdEntry}),/*#__PURE__*/_jsx(Panel,{collapsible:true,expanded:viewMode,children:viewPanel}),/*#__PURE__*/_jsx(Panel,{collapsible:true,expanded:configOpen,children:this.makeInfo()}),/*#__PURE__*/_jsx(Panel,{collapsible:true,expanded:expandMode,children:this.props.children})]});}}]);return Config;}(React.Component);export{Config as default};","map":{"version":3,"names":["React","FormControl","Grid","Row","Col","Label","Button","ButtonToolbar","Glyphicon","Panel","Alert","saveAs","cmdTypes","Config","props","edit","newState","Object","assign","state","editMode","submit","console","log","viewMode","setState","noedit","JSON","stringify","desc","deleteOn","deleteMode","deleteOff","delete","cmdKey","cmdKeys","i","length","tranCmd","action","nodeKey","configKey","name","dispatch","tranConfig","view","info","newMode","configOpen","saveme","cmdLines","makeCmdLines","lf","host","linefeed","page","join","blob","Blob","type","newcmd","newCommand","nonewcmd","toggle","expandMode","handleNewCommand","e","val","target","value","tran","cmdTypeKey","preventDefault","handleConfigChange","prop","configElems","icon","content","configType","program","deleteAlert","makeDeleteAlertElem","head","push","nameElem","makeConfigElem","descElem","programElem","label","size","read","note","form","bind","optionItems","allCmdTypes","nodeCmdTypes","ionVerSeqNo","getIonVerSeqNo","toString","cmdType","verFrom","verThru","mainOptions","map","cmdname","msg","infoTag","dimNewCmd","cmdEntry","makeNewCommandElem","editLabel","viewLabel","viewPanel","makeConfigEditor","makeConfigViewer","makeInfo","children","Component"],"sources":["/Users/rlborgen/git/ionconfig/editor/src/Config.jsx"],"sourcesContent":["//        Config.jsx     Config React Component\n//\n//        Copyright (c) 2018, California Institute of Technology.\n//        ALL RIGHTS RESERVED.  U.S. Government Sponsorship\n//        acknowledged.\n//                                                                   \n//      Author: Rick Borgen, Jet Propulsion Laboratory         \n//                                                               \nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport \"date-format-lite\";\nimport {FormControl} from 'react-bootstrap';\nimport {Grid,Row,Col} from 'react-bootstrap';\nimport {Label,Button,ButtonToolbar} from 'react-bootstrap';\nimport {Glyphicon,Panel} from 'react-bootstrap';\nimport {Alert} from 'react-bootstrap';\nimport {saveAs} from \"file-saver\";\n\nimport cmdTypes from './cmdTypes.json';\n\nexport default class Config  extends React.Component {\n  constructor (props) {\n    super(props);\n    console.log(\"Config ctor \" + props.name);\n    this.state = {\n      editMode: false,\n      deleteMode: false,\n      viewMode: false,\n      configOpen: false,\n      expandMode: false,\n      newCommand: false,\n    }\n  }\n  makeConfigEditor() {\n    var configElems = [];\n    const icon = 'remove';\n    const content = this.props.configType.content;\n    const program = this.props.configType.program;\n    var deleteMode = this.state.deleteMode;\n    let deleteAlert = null;\n    if (deleteMode)\n      deleteAlert = this.makeDeleteAlertElem();\n    const head  = \n      <Row key=\"head\">\n        <Col sm={5}> <Label bsSize=\"lg\" bsStyle=\"default\">Config File Editor</Label></Col>\n        <Col sm={2}>\n          <ButtonToolbar>\n            <Button bsSize=\"sm\" bsStyle=\"danger\" onClick={this.deleteOn}>Delete</Button>\n            <Button bsSize=\"sm\" bsStyle=\"success\"  onClick={this.noedit}><Glyphicon glyph={icon} /></Button>\n          </ButtonToolbar>\n        </Col>\n        <Col sm={5}>{deleteAlert}</Col>\n      </Row>;\n    configElems.push(head);\n    const nameElem = this.makeConfigElem(\"\",\"text\",this.props.name,\"Config File Name\",1,true,\"\");\n    configElems.push(nameElem);\n    const descElem = this.makeConfigElem(\"desc\",\"text\",content,\"Description\",3,true,\"\");\n    configElems.push(descElem);\n    const programElem  = this.makeConfigElem(\"program\",\"text\",program,\"Program\",1,true,\"\");\n    configElems.push(programElem);\n\n    return (\n      <div>\n        {configElems}\n        <Row><Col sm={2}></Col><Col sm={6}>Note: No config fields are editable at this time. Delete is supported.</Col></Row>\n      </div>\n    );\n  };\n  makeConfigViewer() {\n    //console.log(\">>makeNodeElems \" + JSON.stringify(this.state));\n    var configElems = [];\n    const content = this.props.configType.content;\n    const program = this.props.configType.program;\n    const head  = <Row key=\"head\"><Col sm={2}> <Label bsSize=\"lg\" bsStyle=\"default\">Config File Viewer</Label></Col></Row>;\n    configElems.push(head);\n    const nameElem = this.makeConfigElem(\"\",\"text\",this.props.name,\"Config File Name\",1,true,\"\");\n    configElems.push(nameElem);\n    const descElem = this.makeConfigElem(\"desc\",\"text\",content,\"Description\",3,true,\"\");\n    configElems.push(descElem);\n    const programElem  = this.makeConfigElem(\"program\",\"text\",program,\"Program\",1,true,\"\");\n    configElems.push(programElem);\n\n    return (\n      <div>\n        {configElems}\n      </div>\n    );\n  };\n  makeConfigElem(prop,type,val,label,size,read,note) {\n    //console.log(\">>MakeNodeElem \" + prop + ' ' + type + ' ' + val + ' ' + size);\n    const form =\n        <FormControl readOnly={read} bsSize=\"sm\" type={type} value={val} onChange={this.handleConfigChange.bind(null,prop)} />;\n    return (\n      <Row key={label}>\n        <Col className=\"text-right\" sm={2}><b>{label}</b></Col>\n        <Col sm={size} value={val}>{form}</Col>\n        <Col sm={size} value={2}>{note}</Col>\n      </Row>\n    );\n  };\n  makeNewCommandElem() {\n    //console.log(\"makeNewCommandElems cmdTypes: \" + this.props.configType.cmdTypes);\n    var optionItems = [ ];\n\n    optionItems[0] = <option key=\"none\" value=\"none\">&lt;none&gt;</option>;\n    var allCmdTypes = this.props.configType.cmdTypes;   // all cmd Types for all versions\n    var nodeCmdTypes = [];          // cmd Types for the node's version\n    const nodeKey = this.props.nodeKey;                    \n    var ionVerSeqNo = this.props.getIonVerSeqNo(nodeKey);\n    // select correct commands for this node version\n    console.log(\"??? makeCmdElem  seqno= \" + ionVerSeqNo.toString());\n    for (var i=0; i < allCmdTypes.length ; i++) {\n        const cmdTypeKey = allCmdTypes[i];\n        const cmdType = cmdTypes[cmdTypeKey]\n        console.log(\"??? cmd: \" + JSON.stringify(cmdType));\n        if (cmdType.verFrom <= ionVerSeqNo && cmdType.verThru >= ionVerSeqNo) {\n          console.log(\"??? selected \" + cmdType.name);\n          nodeCmdTypes.push(cmdTypeKey);\n        }\n    };\n    var mainOptions = nodeCmdTypes.map( \n      (cmdTypeKey) => {\n        const cmdType = cmdTypes[cmdTypeKey];\n        const cmdname = cmdType.name;\n        console.log(\"makeNewCommandElems cmdname: \" + cmdname);\n        return <option key={cmdname} value={cmdTypeKey}>{cmdname}</option>;\n      }\n    );\n    optionItems.push(mainOptions);\n    var form =\n      <FormControl\n        bsSize=\"sm\"\n        componentClass=\"select\"\n        placeholder=\"\"\n        onChange={this.handleNewCommand}\n        >{optionItems}\n      </FormControl>;\n    const icon = 'remove';\n    return (\n      <div>\n        <hr />\n        <Col className=\"text-right\" sm={2}><b>Select new command:</b></Col>\n        <Col sm={2}>{form}</Col>\n        <Col sm={1}>\n          <Button bsSize=\"sm\" bsStyle=\"success\"  onClick={this.nonewcmd}><Glyphicon glyph={icon} /></Button>\n        </Col>\n      </div>\n    );\n    //return form;\n  }\n  makeDeleteAlertElem(msg) {\n    //<Col sm={3}><b>Are you sure?</b></Col>\n    //<Col sm={1}>\n    //</Col>\n    return (\n      <Alert bsStyle=\"danger\">\n        <b>Confirm delete of config file and all its commands?</b>\n        <ButtonToolbar>\n          <Button bsSize=\"sm\" bsStyle=\"danger\"  onClick={this.delete}>Delete</Button>\n          <Button bsSize=\"sm\" bsStyle=\"success\" onClick={this.deleteOff}>Cancel</Button>\n        </ButtonToolbar>\n      </Alert>);\n  };\n  makeInfo() {\n    const configKey = this.props.name;\n    const cmdLines = this.props.makeCmdLines(configKey);\n    var lf = \"\\n\";   // assign linefeed format for text files\n    const page = cmdLines.join(lf) + lf;\n    return (\n      <div>\n        <pre>{page}</pre>\n      </div>\n      );\n  }\n  render() {\n    var expandMode = this.state.expandMode;\n    const editMode = this.state.editMode;\n    const viewMode = this.state.viewMode;\n    const content = this.props.configType.content;\n    var icon = this.state.expandMode? 'chevron-down' : 'chevron-right';\n    var configOpen = this.state.configOpen;\n    var infoTag = this.state.configOpen?  \"Hide File\" : \"Show File\" ;\n    const dimNewCmd = this.state.newCommand? true : false;\n    const cmdEntry = this.state.newCommand?  this.makeNewCommandElem() : \"\" ;\n    const editLabel = editMode?  'Submit' : 'Edit'\n    const viewLabel = viewMode?  'Hide' : 'Show';\n\n    let viewPanel = null;\n    if (viewMode)\n      if (editMode)\n        viewPanel = this.makeConfigEditor();\n      else\n        viewPanel = this.makeConfigViewer();\n\n    return (\n      <Grid fluid>\n        <Row>\n          <div className=\"row mt-4\">\n            <Col className=\"text-right\" sm={1}> <Label bsSize=\"lg\" bsStyle=\"default\">Config File</Label></Col>\n            <Col className=\"text-right\" sm={1}><b>{this.props.name}</b></Col>\n            <Col className=\"text-left\"  sm={3}>{content}</Col>\n            <Col sm={4}> \n              <ButtonToolbar>\n                <Button bsSize=\"sm\" bsStyle=\"primary\" onClick={this.edit}>{editLabel}</Button>\n                <Button bsSize=\"sm\" bsStyle=\"info\" onClick={this.view}>{viewLabel}</Button>\n                <Button bsSize=\"sm\" bsStyle=\"info\" onClick={this.info}>{infoTag}</Button>\n                <Button bsSize=\"sm\" bsStyle=\"primary\" onClick={this.saveme}>Save File</Button> \n                <Button bsSize=\"sm\" bsStyle=\"primary\" disabled={dimNewCmd} onClick={this.newcmd}>New Command</Button>        \n                <Button bsSize=\"sm\" bsStyle=\"success\"  onClick={this.toggle}> <Glyphicon glyph={icon} />{' '}</Button>\n              </ButtonToolbar>\n            </Col>\n          </div>\n        </Row>\n        <Row>\n          {cmdEntry}\n        </Row>\n        <Panel collapsible expanded={viewMode}>\n          {viewPanel}\n        </Panel>\n        <Panel collapsible expanded={configOpen}>\n          {this.makeInfo()} \n        </Panel>\n        <Panel  collapsible expanded={expandMode}>\n          {this.props.children}\n        </Panel>\n      </Grid>\n    )\n  };\n  edit = () => {   // activated by Edit/Submit button\n    var newState = Object.assign({},this.state);\n    const editMode = this.state.editMode;\n    if (editMode)\n      this.submit();\n    else {\n      console.log(\"let's edit!\");\n      newState.viewMode = true;   // force viewing\n    }\n    newState.editMode = !editMode;  // toggle mode\n    this.setState (newState);\n  };\n  noedit = () => {   // activated by Edit/Submit button\n    var newState = Object.assign({},this.state);\n    newState.editMode = false;   // cancel editing\n    newState.viewMode = false;   // cancel viewing\n    this.setState (newState);\n  };\n  submit = () => {    // callable by edit (above)\n    console.log(\"submit config updates!\" + JSON.stringify(this.props.desc));\n    return;   // update config does not do anything yet\n    //this.props.dispatch(tran);\n  };\n  deleteOn = () => {\n    var newState = Object.assign({},this.state);\n    newState.deleteMode = true;   // activate delete mode\n    this.setState (newState);\n  };\n  deleteOff = () => {\n    var newState = Object.assign({},this.state);\n    newState.deleteMode = false;   // cancel delete mode\n    this.setState (newState);\n  };\n  delete = () => { \n    console.log(\"submit delete!  cmdKey:\" + this.props.cmdKey);\n    // first delete all commands\n    let cmdKeys = this.props.cmdKeys;\n    for (let i = 0; i < cmdKeys.length; i++) {\n      let cmdKey = cmdKeys[i];\n      console.log(\"delete command: \" + cmdKey);\n      var tranCmd = {\n        action: \"DELETE-COMMAND\",\n        nodeKey: this.props.nodeKey,\n        configKey: this.props.name,\n        cmdKey: cmdKey\n      };\n      this.props.dispatch(tranCmd);\n    };\n    // now we can delete config\n    console.log(\"delete config: \" + this.props.name);\n    var tranConfig = {\n    action: \"DELETE-CONFIG\",\n      nodeKey: this.props.nodeKey,\n      configKey: this.props.name\n    };\n    this.props.dispatch(tranConfig);\n  };\n  view = () => { // activated by view/hide button\n    var newState = Object.assign({},this.state);\n    var viewMode = this.state.viewMode;\n    if (viewMode)\n      console.log(\"let's hide view panel!\");\n    else\n      console.log(\"let's show view panel!\");\n    newState.viewMode = !viewMode;\n    this.setState (newState);\n  };\n  info = () => {\n    console.log(\"let's peek!\");\n    var newMode = !this.state.configOpen;\n    this.setState({\n      configOpen: newMode\n    });\n  };\n  saveme = () => {\n    console.log(\"let's save me!\");\n    var configKey = this.props.name;\n    const cmdLines = this.props.makeCmdLines(configKey);\n    var lf = \"\\n\";   // assign linefeed format for text files\n    var host = this.props.host;  // get host object of node\n    if (host)           // host only if a node config, not a graph\n      if (host.linefeed === 'windows')            // windows is different\n        lf = \"\\r\\n\";\n    const page = cmdLines.join(lf) + lf;\n    var blob = new Blob( [page], {type: \"text/plain; charset=utf-8\"} );\n    saveAs(blob, this.props.name, true);   // true = disable autoBOM\n  };\n  newcmd = () => {\n    console.log(\"add a new command!\");\n    this.setState({\n      newCommand: true\n    });\n  };\n  nonewcmd = () => {\n    console.log(\"cancel add a new command!\");\n    this.setState({\n      newCommand: false\n    });\n  };\n  toggle = () => {\n    console.log(\"let's toggle commands!\");\n    var newMode = !this.state.expandMode;\n    this.setState({\n      expandMode: newMode\n    });\n  };\n  handleNewCommand = (e) => {\n    console.log(\"a new command!\" + e);\n    const val = e.target.value;\n    console.log(\"command name = \" + val);\n    const tran = {\n      action: \"NEW-COMMAND\",\n      nodeKey: this.props.nodeKey,\n      configKey: this.props.name,\n      cmdTypeKey: val\n    };\n    this.props.dispatch(tran);\n    this.setState({\n      newCommand: false,\n      expandMode: true\n    });\n    e.preventDefault();\n  };\n  handleConfigChange = (prop,e) => {\n    console.log(\"a value change of\" + prop +  e);\n    console.log(\"$$$$ should not happen for config!!\")\n    var newState = Object.assign({},this.state);\n    newState[prop] = e.target.value;\n    this.setState (newState);\n    e.preventDefault();\n  };\n}\n\nConfig.propTypes =  {\n  name: PropTypes.string.isRequired,        // unique name of this config file\n  configType: PropTypes.object.isRequired,  // schema: info of this config type\n  nodeKey: PropTypes.string.isRequired,     // user model - node key\n  host: PropTypes.object.isRequired,        // user model - host object of node\n  cmdKeys: PropTypes.array.isRequired,      // cmdKeys of this config file\n\n  makeCmdLines: PropTypes.func.isRequired,  // func to format all lines of config file\n  getIonVerSeqNo: PropTypes.func.isRequired,// func to get ion version seq num\n  dispatch: PropTypes.func.isRequired,      // func to handle transactions centrally\n\n  children: PropTypes.array.isRequired,     // command elements of this config file\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}