{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _Array$from from 'babel-runtime/core-js/array/from';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport classNames from 'classnames';\nimport keycode from 'keycode';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport RootCloseWrapper from 'react-overlays/lib/RootCloseWrapper';\nimport { bsClass, getClassSet, prefix, splitBsPropsAndOmit } from './utils/bootstrapUtils';\nimport createChainedFunction from './utils/createChainedFunction';\nimport ValidComponentChildren from './utils/ValidComponentChildren';\nvar propTypes = {\n  open: PropTypes.bool,\n  pullRight: PropTypes.bool,\n  onClose: PropTypes.func,\n  labelledBy: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onSelect: PropTypes.func,\n  rootCloseEvent: PropTypes.oneOf(['click', 'mousedown'])\n};\nvar defaultProps = {\n  bsRole: 'menu',\n  pullRight: false\n};\n\nvar DropdownMenu = function (_React$Component) {\n  _inherits(DropdownMenu, _React$Component);\n\n  function DropdownMenu(props) {\n    _classCallCheck(this, DropdownMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.handleRootClose = _this.handleRootClose.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    return _this;\n  }\n\n  DropdownMenu.prototype.getFocusableMenuItems = function getFocusableMenuItems() {\n    var node = ReactDOM.findDOMNode(this);\n\n    if (!node) {\n      return [];\n    }\n\n    return _Array$from(node.querySelectorAll('[tabIndex=\"-1\"]'));\n  };\n\n  DropdownMenu.prototype.getItemsAndActiveIndex = function getItemsAndActiveIndex() {\n    var items = this.getFocusableMenuItems();\n    var activeIndex = items.indexOf(document.activeElement);\n    return {\n      items: items,\n      activeIndex: activeIndex\n    };\n  };\n\n  DropdownMenu.prototype.focusNext = function focusNext() {\n    var _getItemsAndActiveInd = this.getItemsAndActiveIndex(),\n        items = _getItemsAndActiveInd.items,\n        activeIndex = _getItemsAndActiveInd.activeIndex;\n\n    if (items.length === 0) {\n      return;\n    }\n\n    var nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n    items[nextIndex].focus();\n  };\n\n  DropdownMenu.prototype.focusPrevious = function focusPrevious() {\n    var _getItemsAndActiveInd2 = this.getItemsAndActiveIndex(),\n        items = _getItemsAndActiveInd2.items,\n        activeIndex = _getItemsAndActiveInd2.activeIndex;\n\n    if (items.length === 0) {\n      return;\n    }\n\n    var prevIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n    items[prevIndex].focus();\n  };\n\n  DropdownMenu.prototype.handleKeyDown = function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case keycode.codes.down:\n        this.focusNext();\n        event.preventDefault();\n        break;\n\n      case keycode.codes.up:\n        this.focusPrevious();\n        event.preventDefault();\n        break;\n\n      case keycode.codes.esc:\n      case keycode.codes.tab:\n        this.props.onClose(event, {\n          source: 'keydown'\n        });\n        break;\n\n      default:\n    }\n  };\n\n  DropdownMenu.prototype.handleRootClose = function handleRootClose(event) {\n    this.props.onClose(event, {\n      source: 'rootClose'\n    });\n  };\n\n  DropdownMenu.prototype.render = function render() {\n    var _extends2,\n        _this2 = this;\n\n    var _props = this.props,\n        open = _props.open,\n        pullRight = _props.pullRight,\n        labelledBy = _props.labelledBy,\n        onSelect = _props.onSelect,\n        className = _props.className,\n        rootCloseEvent = _props.rootCloseEvent,\n        children = _props.children,\n        props = _objectWithoutProperties(_props, ['open', 'pullRight', 'labelledBy', 'onSelect', 'className', 'rootCloseEvent', 'children']);\n\n    var _splitBsPropsAndOmit = splitBsPropsAndOmit(props, ['onClose']),\n        bsProps = _splitBsPropsAndOmit[0],\n        elementProps = _splitBsPropsAndOmit[1];\n\n    var classes = _extends({}, getClassSet(bsProps), (_extends2 = {}, _extends2[prefix(bsProps, 'right')] = pullRight, _extends2));\n\n    return React.createElement(RootCloseWrapper, {\n      disabled: !open,\n      onRootClose: this.handleRootClose,\n      event: rootCloseEvent\n    }, React.createElement('ul', _extends({}, elementProps, {\n      role: 'menu',\n      className: classNames(className, classes),\n      'aria-labelledby': labelledBy\n    }), ValidComponentChildren.map(children, function (child) {\n      return React.cloneElement(child, {\n        onKeyDown: createChainedFunction(child.props.onKeyDown, _this2.handleKeyDown),\n        onSelect: createChainedFunction(child.props.onSelect, onSelect)\n      });\n    })));\n  };\n\n  return DropdownMenu;\n}(React.Component);\n\nDropdownMenu.propTypes = propTypes;\nDropdownMenu.defaultProps = defaultProps;\nexport default bsClass('dropdown-menu', DropdownMenu);","map":{"version":3,"names":["_extends","_objectWithoutProperties","_Array$from","_classCallCheck","_possibleConstructorReturn","_inherits","classNames","keycode","React","PropTypes","ReactDOM","RootCloseWrapper","bsClass","getClassSet","prefix","splitBsPropsAndOmit","createChainedFunction","ValidComponentChildren","propTypes","open","bool","pullRight","onClose","func","labelledBy","oneOfType","string","number","onSelect","rootCloseEvent","oneOf","defaultProps","bsRole","DropdownMenu","_React$Component","props","_this","call","handleRootClose","bind","handleKeyDown","prototype","getFocusableMenuItems","node","findDOMNode","querySelectorAll","getItemsAndActiveIndex","items","activeIndex","indexOf","document","activeElement","focusNext","_getItemsAndActiveInd","length","nextIndex","focus","focusPrevious","_getItemsAndActiveInd2","prevIndex","event","keyCode","codes","down","preventDefault","up","esc","tab","source","render","_extends2","_this2","_props","className","children","_splitBsPropsAndOmit","bsProps","elementProps","classes","createElement","disabled","onRootClose","role","map","child","cloneElement","onKeyDown","Component"],"sources":["/Users/rlborgen/git/ionconfig/editor/node_modules/react-bootstrap/es/DropdownMenu.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _Array$from from 'babel-runtime/core-js/array/from';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport classNames from 'classnames';\nimport keycode from 'keycode';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport RootCloseWrapper from 'react-overlays/lib/RootCloseWrapper';\n\nimport { bsClass, getClassSet, prefix, splitBsPropsAndOmit } from './utils/bootstrapUtils';\nimport createChainedFunction from './utils/createChainedFunction';\nimport ValidComponentChildren from './utils/ValidComponentChildren';\n\nvar propTypes = {\n  open: PropTypes.bool,\n  pullRight: PropTypes.bool,\n  onClose: PropTypes.func,\n  labelledBy: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onSelect: PropTypes.func,\n  rootCloseEvent: PropTypes.oneOf(['click', 'mousedown'])\n};\n\nvar defaultProps = {\n  bsRole: 'menu',\n  pullRight: false\n};\n\nvar DropdownMenu = function (_React$Component) {\n  _inherits(DropdownMenu, _React$Component);\n\n  function DropdownMenu(props) {\n    _classCallCheck(this, DropdownMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.handleRootClose = _this.handleRootClose.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    return _this;\n  }\n\n  DropdownMenu.prototype.getFocusableMenuItems = function getFocusableMenuItems() {\n    var node = ReactDOM.findDOMNode(this);\n    if (!node) {\n      return [];\n    }\n\n    return _Array$from(node.querySelectorAll('[tabIndex=\"-1\"]'));\n  };\n\n  DropdownMenu.prototype.getItemsAndActiveIndex = function getItemsAndActiveIndex() {\n    var items = this.getFocusableMenuItems();\n    var activeIndex = items.indexOf(document.activeElement);\n\n    return { items: items, activeIndex: activeIndex };\n  };\n\n  DropdownMenu.prototype.focusNext = function focusNext() {\n    var _getItemsAndActiveInd = this.getItemsAndActiveIndex(),\n        items = _getItemsAndActiveInd.items,\n        activeIndex = _getItemsAndActiveInd.activeIndex;\n\n    if (items.length === 0) {\n      return;\n    }\n\n    var nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n    items[nextIndex].focus();\n  };\n\n  DropdownMenu.prototype.focusPrevious = function focusPrevious() {\n    var _getItemsAndActiveInd2 = this.getItemsAndActiveIndex(),\n        items = _getItemsAndActiveInd2.items,\n        activeIndex = _getItemsAndActiveInd2.activeIndex;\n\n    if (items.length === 0) {\n      return;\n    }\n\n    var prevIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n    items[prevIndex].focus();\n  };\n\n  DropdownMenu.prototype.handleKeyDown = function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case keycode.codes.down:\n        this.focusNext();\n        event.preventDefault();\n        break;\n      case keycode.codes.up:\n        this.focusPrevious();\n        event.preventDefault();\n        break;\n      case keycode.codes.esc:\n      case keycode.codes.tab:\n        this.props.onClose(event, { source: 'keydown' });\n        break;\n      default:\n    }\n  };\n\n  DropdownMenu.prototype.handleRootClose = function handleRootClose(event) {\n    this.props.onClose(event, { source: 'rootClose' });\n  };\n\n  DropdownMenu.prototype.render = function render() {\n    var _extends2,\n        _this2 = this;\n\n    var _props = this.props,\n        open = _props.open,\n        pullRight = _props.pullRight,\n        labelledBy = _props.labelledBy,\n        onSelect = _props.onSelect,\n        className = _props.className,\n        rootCloseEvent = _props.rootCloseEvent,\n        children = _props.children,\n        props = _objectWithoutProperties(_props, ['open', 'pullRight', 'labelledBy', 'onSelect', 'className', 'rootCloseEvent', 'children']);\n\n    var _splitBsPropsAndOmit = splitBsPropsAndOmit(props, ['onClose']),\n        bsProps = _splitBsPropsAndOmit[0],\n        elementProps = _splitBsPropsAndOmit[1];\n\n    var classes = _extends({}, getClassSet(bsProps), (_extends2 = {}, _extends2[prefix(bsProps, 'right')] = pullRight, _extends2));\n\n    return React.createElement(\n      RootCloseWrapper,\n      {\n        disabled: !open,\n        onRootClose: this.handleRootClose,\n        event: rootCloseEvent\n      },\n      React.createElement(\n        'ul',\n        _extends({}, elementProps, {\n          role: 'menu',\n          className: classNames(className, classes),\n          'aria-labelledby': labelledBy\n        }),\n        ValidComponentChildren.map(children, function (child) {\n          return React.cloneElement(child, {\n            onKeyDown: createChainedFunction(child.props.onKeyDown, _this2.handleKeyDown),\n            onSelect: createChainedFunction(child.props.onSelect, onSelect)\n          });\n        })\n      )\n    );\n  };\n\n  return DropdownMenu;\n}(React.Component);\n\nDropdownMenu.propTypes = propTypes;\nDropdownMenu.defaultProps = defaultProps;\n\nexport default bsClass('dropdown-menu', DropdownMenu);"],"mappings":"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"},"metadata":{},"sourceType":"module"}