{"ast":null,"code":"import _classCallCheck from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/createSuper.js\";//        IonNodeList.jsx     IonNodeList React Component\n//\n//        Copyright (c) 2018, California Institute of Technology.\n//        ALL RIGHTS RESERVED.  U.S. Government Sponsorship\n//        acknowledged.\n//                                                                   \n//      Author: Rick Borgen, Jet Propulsion Laboratory         \n//                                                               \nimport React from'react';import{FormControl}from'react-bootstrap';import{Grid,Row,Col}from'react-bootstrap';import{Label,Button,ButtonToolbar}from'react-bootstrap';import{Glyphicon,Panel}from'react-bootstrap';import{Alert}from'react-bootstrap';import IonNode from'./IonNode.jsx';import cmdTypes from'./cmdTypes.json';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var IonNodeList=/*#__PURE__*/function(_React$Component){_inherits(IonNodeList,_React$Component);var _super=_createSuper(IonNodeList);function IonNodeList(props){var _this;_classCallCheck(this,IonNodeList);_this=_super.call(this,props);_this.expand=function(){// activated by expand/contract shutter icon\nvar newState=Object.assign({},_this.state);var expandMode=_this.state.expandMode;if(expandMode)console.log(\"let's close-up node list!\");else console.log(\"let's expand node list!\");newState.expandMode=!expandMode;// toggling flag changes render\n_this.setState(newState);};_this.newnode=function(){// activated by newnode button\nvar newState=Object.assign({},_this.state);console.log(\"add a new node!\");newState.newIonNode=true;// setting flag changes render\n_this.setState(newState);};_this.nonewnode=function(){// activated by new node cancel button\nvar newState=Object.assign({},_this.state);console.log(\"cancel add a new node!\");newState.newIonNode=false;// setting flag changes render\n_this.setState(newState);};_this.handleNewIonNode=function(e){var val=e.target.value;console.log(\"a new node name!\"+val);var newState=Object.assign({},_this.state);newState.newIonNodeId=val;_this.setState(newState);e.preventDefault();};_this.submitNewIonNode=function(e){console.log(\"a new node!\"+e);var nodeKey=_this.state.newIonNodeId;console.log(\"node name = \"+nodeKey);var msg=\"\";if(!_this.props.isGoodName(nodeKey))msg=\"IonNode name is mal-formed.\";else if(!_this.isGoodIonNodeKey(nodeKey))msg=\"IonNode name already used.\";if(msg===\"\"){// all good!\nvar tran={action:\"NEW-NODE\",nodeKey:nodeKey};_this.props.dispatch(tran);_this.setState({expandMode:true,// open up to show new node\nnewIonNode:false,// setting flag changes render\nnewIonNodeId:\"\",newIonNodeMsg:\"\"});}else{// set msg to show problem\n_this.setState({newIonNodeMsg:msg});}e.preventDefault();};console.log(\"IonNodeList ctor\");_this.state={expandMode:false,newIonNode:false,newIonNodeMsg:\"\",newIonNodeId:\"\"};return _this;}_createClass(IonNodeList,[{key:\"makeAlertElem\",value:function makeAlertElem(msg){return/*#__PURE__*/_jsx(Alert,{bsStyle:\"danger\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"ERROR: \",msg]})});}// check if a new host name is valid\n},{key:\"isGoodIonNodeKey\",value:function isGoodIonNodeKey(newIonNodeKey){console.log(\"isGoodIonNodeKey ?? \"+newIonNodeKey);for(var nodeKey in this.props.nodes){if(nodeKey===newIonNodeKey)return false;}return true;}},{key:\"makeIonNodeElem\",value:function makeIonNodeElem(nodeKey,configList){console.log(\"makeIonNodeElem\");var contacts=this.props.currentContacts;// network contacts name\nvar node=this.props.nodes[nodeKey];var configs=this.props.configs;var ipaddrs=this.props.ipaddrs;var desc=node.longName;var hostKey=node.hostKey;var host=this.props.hosts[hostKey];var configKeys=node.configKeys;var configNames=[];for(var i=0;i<configKeys.length;i++){var c=configKeys[i];configNames.push(configs[c].configType);};var isGoodNodeNum=this.props.isGoodNodeNum;// pass through\nvar makeCmdLines=this.props.makeCmdLines;// pass through\nvar makeStarts=this.props.makeStartLines;// pass through\nvar makeTypeOptions=this.props.makeTypeOptions;// pass through\nvar makeOptElems=this.props.makeOptionElems;// pass through\nvar dispatch=this.props.dispatch;// pass through\nreturn/*#__PURE__*/_jsx(IonNode,{// unique id\nname:nodeKey// node key\n,desc:desc// description\n,nodeNum:node.ionNodeNum// state\n,version:node.ionVersion// state\n,hostKey:hostKey// state\n,host:host// state\n,currentContacts:contacts// user model - network contacts name\n,configKeys:configKeys// user model - config file keys of this node\n,configNames:configNames// user model - config type names of this node\n,node:node// node object\n,ipaddrs:ipaddrs// ipaddr objects list\n,isGoodNodeNum:isGoodNodeNum// verify that node num not already assigned\n,makeCmdLines:makeCmdLines// all lines formatting of config file\n,makeStartLines:makeStarts// all lines for a start script\n,makeTypeOptions:makeTypeOptions// get dynamic (cloned) options\n,makeOptionElems:makeOptElems// get static options\n,dispatch:dispatch// dispatch func for node transactions\n,children:configList// list of Config children\n},nodeKey);}},{key:\"makeNewIonNodeElem\",value:function makeNewIonNodeElem(){console.log(\"makeNewIonNodeElem\");var id=this.state.newIonNodeId;// check for alert\nvar msg=this.state.newIonNodeMsg;var alert=msg===\"\"?\"\":this.makeAlertElem(msg);var form=/*#__PURE__*/_jsx(FormControl,{bsSize:\"sm\",type:\"text\",value:id,spellCheck:\"false\",onChange:this.handleNewIonNode});var icon='remove';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"text-right\",sm:2,children:/*#__PURE__*/_jsx(\"b\",{children:\"New Node Name:\"})}),/*#__PURE__*/_jsx(Col,{sm:1,children:form}),/*#__PURE__*/_jsx(Col,{sm:1,children:\"(no spaces)\"}),/*#__PURE__*/_jsx(Col,{sm:2,children:/*#__PURE__*/_jsxs(ButtonToolbar,{children:[/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"primary\",onClick:this.submitNewIonNode,children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"success\",onClick:this.nonewnode,children:/*#__PURE__*/_jsx(Glyphicon,{glyph:icon})})]})}),/*#__PURE__*/_jsx(Col,{sm:4,children:alert})]})]});}},{key:\"render\",value:function render(){console.log(\"IonNodeList render \");var expandMode=this.state.expandMode;var name=this.props.name;var newIonNode=this.state.newIonNode;var ionNodes=this.props.nodes;var expandIcon=expandMode?'chevron-down':'chevron-right';var dimNewIonNode=newIonNode?true:false;var nodeCnt='('+Object.keys(ionNodes).length.toString()+')';var nodeEntry=newIonNode?this.makeNewIonNodeElem():\"\";// top-down definition of elements\n// gather Node element definitions\nvar nodeList=[];for(var nodeKey in ionNodes){console.log(\"next node: \"+nodeKey);var node=ionNodes[nodeKey];var hostKey=node.hostKey;console.log(\"Node:\"+node.longName);var configKeys=node.configKeys;var configList=[];// gather Config elements for Node\nfor(var i=0;i<configKeys.length;i++){var configKey=configKeys[i];console.log(\"Config  i:\"+i+\"  configKey:\"+configKey);var config=this.props.configs[configKey];// console.log(\"Config:\" + config.configType);\nvar cmdKeys=config.cmdKeys;var cmdList=[];// gather Command elements for Config\nfor(var j=0;j<cmdKeys.length;j++){var cmdKey=cmdKeys[j];var cmd=this.props.commands[cmdKey];var cmdTypeKey=cmd.typeKey;// console.log(\"Command cmdKey:\" + cmdKey + \" cmdTypeKey: \" + cmdTypeKey);\nvar paramTypeKeys=cmdTypes[cmdTypeKey].paramTypes;var paramProps=[];for(var k=0;k<paramTypeKeys.length;k++){var pTypeKey=paramTypeKeys[k];var val=cmd.values[k];paramProps.push(this.props.makeParamProps(pTypeKey,val));}//console.log(\"calling makeCommandElem\");\ncmdList.push(this.props.makeCommandElem(nodeKey,configKey,cmdKey,hostKey,paramProps));}//console.log(\"calling makeConfigElem  cmds:\" + cmdList.length);\nconfigList.push(this.props.makeConfigElem(configKey,cmdKeys,cmdList));}nodeList.push(this.makeIonNodeElem(nodeKey,configList));}return/*#__PURE__*/_jsxs(Grid,{fluid:true,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-4\",children:[/*#__PURE__*/_jsx(Col,{className:\"text-right\",sm:1,children:/*#__PURE__*/_jsx(Label,{bsSize:\"lg\",bsStyle:\"default\",children:\"ION Node List\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",sm:1,children:/*#__PURE__*/_jsx(\"b\",{children:name})}),/*#__PURE__*/_jsxs(Col,{className:\"text-left\",sm:2,children:[\"ION Node Servers \",nodeCnt]}),/*#__PURE__*/_jsx(Col,{sm:3,children:/*#__PURE__*/_jsxs(ButtonToolbar,{children:[/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"primary\",disabled:dimNewIonNode,onClick:this.newnode,children:\"New Ion Node\"}),/*#__PURE__*/_jsxs(Button,{bsSize:\"sm\",bsStyle:\"success\",onClick:this.expand,children:[/*#__PURE__*/_jsx(Glyphicon,{glyph:expandIcon}),' ']})]})})]})}),/*#__PURE__*/_jsx(Row,{children:nodeEntry}),/*#__PURE__*/_jsx(Panel,{collapsible:true,expanded:expandMode,children:nodeList})]});}}]);return IonNodeList;}(React.Component);export{IonNodeList as default};","map":{"version":3,"names":["React","FormControl","Grid","Row","Col","Label","Button","ButtonToolbar","Glyphicon","Panel","Alert","IonNode","cmdTypes","IonNodeList","props","expand","newState","Object","assign","state","expandMode","console","log","setState","newnode","newIonNode","nonewnode","handleNewIonNode","e","val","target","value","newIonNodeId","preventDefault","submitNewIonNode","nodeKey","msg","isGoodName","isGoodIonNodeKey","tran","action","dispatch","newIonNodeMsg","newIonNodeKey","nodes","configList","contacts","currentContacts","node","configs","ipaddrs","desc","longName","hostKey","host","hosts","configKeys","configNames","i","length","c","push","configType","isGoodNodeNum","makeCmdLines","makeStarts","makeStartLines","makeTypeOptions","makeOptElems","makeOptionElems","ionNodeNum","ionVersion","id","alert","makeAlertElem","form","icon","name","ionNodes","expandIcon","dimNewIonNode","nodeCnt","keys","toString","nodeEntry","makeNewIonNodeElem","nodeList","configKey","config","cmdKeys","cmdList","j","cmdKey","cmd","commands","cmdTypeKey","typeKey","paramTypeKeys","paramTypes","paramProps","k","pTypeKey","values","makeParamProps","makeCommandElem","makeConfigElem","makeIonNodeElem","Component"],"sources":["/Users/rlborgen/git/ionconfig/editor/src/IonNodeList.jsx"],"sourcesContent":["//        IonNodeList.jsx     IonNodeList React Component\n//\n//        Copyright (c) 2018, California Institute of Technology.\n//        ALL RIGHTS RESERVED.  U.S. Government Sponsorship\n//        acknowledged.\n//                                                                   \n//      Author: Rick Borgen, Jet Propulsion Laboratory         \n//                                                               \nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormControl} from 'react-bootstrap';\nimport {Grid,Row,Col} from 'react-bootstrap';\nimport {Label,Button,ButtonToolbar} from 'react-bootstrap';\nimport {Glyphicon,Panel} from 'react-bootstrap';\nimport {Alert} from 'react-bootstrap';\nimport IonNode from './IonNode.jsx';\n\nimport cmdTypes    from './cmdTypes.json';\n\nexport default class IonNodeList  extends React.Component {\n  constructor (props) {\n    super(props);\n    console.log(\"IonNodeList ctor\");\n    this.state = {\n      expandMode: false,\n      newIonNode: false,\n      newIonNodeMsg: \"\",\n      newIonNodeId: \"\"\n    };\n  } \n  makeAlertElem(msg) {\n    return (<Alert bsStyle=\"danger\"><b>ERROR: {msg}</b></Alert>);\n  }\n  // check if a new host name is valid\n  isGoodIonNodeKey(newIonNodeKey) {\n    console.log(\"isGoodIonNodeKey ?? \" + newIonNodeKey);\n    for (var nodeKey in this.props.nodes)\n       if (nodeKey === newIonNodeKey)\n         return false;\n    return true;\n  }\n  makeIonNodeElem(nodeKey, configList) {\n    console.log(\"makeIonNodeElem\");\n    const contacts = this.props.currentContacts;        // network contacts name\n    const node = this.props.nodes[nodeKey];\n    const configs = this.props.configs;\n    const ipaddrs = this.props.ipaddrs;\n    const desc = node.longName;\n    const hostKey = node.hostKey;\n    const host = this.props.hosts[hostKey];\n\n    const configKeys = node.configKeys;\n    const configNames = [ ];\n    for (var i=0; i<configKeys.length; i++)  {\n      const c = configKeys[i];\n      configNames.push(configs[c].configType);\n    };\n\n    const isGoodNodeNum = this.props.isGoodNodeNum;     // pass through\n    const makeCmdLines = this.props.makeCmdLines;       // pass through\n    const makeStarts = this.props.makeStartLines;       // pass through\n    const makeTypeOptions = this.props.makeTypeOptions; // pass through\n    const makeOptElems = this.props.makeOptionElems;    // pass through\n    const dispatch = this.props.dispatch;               // pass through\n\n    return (\n      <IonNode\n        key={nodeKey}                 // unique id\n        name={nodeKey}                // node key\n        desc={desc}                   // description\n        nodeNum={node.ionNodeNum}     // state\n        version={node.ionVersion}     // state\n        hostKey={hostKey}             // state\n        host={host}                   // state\n        currentContacts={contacts}    // user model - network contacts name\n\n        configKeys={configKeys}       // user model - config file keys of this node\n        configNames={configNames}     // user model - config type names of this node\n\n        node={node}                    // node object\n        ipaddrs={ipaddrs}              // ipaddr objects list\n\n        isGoodNodeNum={isGoodNodeNum}      // verify that node num not already assigned\n        makeCmdLines={makeCmdLines}        // all lines formatting of config file\n        makeStartLines={makeStarts}        // all lines for a start script\n        makeTypeOptions={makeTypeOptions}  // get dynamic (cloned) options\n        makeOptionElems={makeOptElems}     // get static options\n\n        dispatch={dispatch}                // dispatch func for node transactions\n\n        children={configList}         // list of Config children\n      />\n    );  \n  }\n  makeNewIonNodeElem() {\n    console.log(\"makeNewIonNodeElem\");\n    const id = this.state.newIonNodeId;\n        // check for alert\n    let msg = this.state.newIonNodeMsg;\n    var alert = (msg === \"\")?  \"\" : this.makeAlertElem(msg);\n\n    var form =\n      <FormControl bsSize=\"sm\" type=\"text\" value={id} spellCheck=\"false\" onChange={this.handleNewIonNode}/>;\n    const icon = 'remove';\n    return (\n      <div>\n        <hr />\n        <Row>\n          <Col className=\"text-right\" sm={2}><b>New Node Name:</b></Col>\n          <Col sm={1}>{form}</Col>\n          <Col sm={1}>(no spaces)</Col>\n          <Col sm={2}>\n            <ButtonToolbar>\n              <Button bsSize=\"sm\" bsStyle=\"primary\" onClick={this.submitNewIonNode}>Submit</Button>\n              <Button bsSize=\"sm\" bsStyle=\"success\" onClick={this.nonewnode}><Glyphicon glyph={icon} /></Button>\n            </ButtonToolbar>\n          </Col>\n          <Col sm={4}>{alert}</Col>\n        </Row>\n      </div>\n    );\n  };\n\n  render() {\n    console.log(\"IonNodeList render \");\n    const expandMode = this.state.expandMode;\n    const name = this.props.name;\n    const newIonNode = this.state.newIonNode;\n    const ionNodes = this.props.nodes;\n\n    const expandIcon = expandMode? 'chevron-down' : 'chevron-right';\n\n    const dimNewIonNode = newIonNode?  true : false ; \n    const nodeCnt = '(' + Object.keys(ionNodes).length.toString() + ')';\n    const nodeEntry  = newIonNode?  this.makeNewIonNodeElem() : \"\" ; \n\n    // top-down definition of elements\n    // gather Node element definitions\n    var nodeList = [];\n    for (var nodeKey in ionNodes) {\n      console.log(\"next node: \" + nodeKey);\n      var node = ionNodes[nodeKey];\n      var hostKey = node.hostKey;\n      console.log(\"Node:\" + node.longName);\n      var configKeys = node.configKeys;\n      var configList = [];    // gather Config elements for Node\n      for (var i = 0; i < configKeys.length; i++) {\n        var configKey = configKeys[i];\n        console.log(\"Config  i:\" + i + \"  configKey:\" + configKey);\n        var config = this.props.configs[configKey];\n        // console.log(\"Config:\" + config.configType);\n        var cmdKeys = config.cmdKeys;\n        var cmdList = [];    // gather Command elements for Config\n        for (var j = 0; j < cmdKeys.length; j++) {\n          var cmdKey = cmdKeys[j];\n          const cmd = this.props.commands[cmdKey];\n          const cmdTypeKey = cmd.typeKey;\n          // console.log(\"Command cmdKey:\" + cmdKey + \" cmdTypeKey: \" + cmdTypeKey);\n          var paramTypeKeys = cmdTypes[cmdTypeKey].paramTypes;\n          var paramProps = [];\n          for (var k = 0; k < paramTypeKeys.length; k++) {\n            const pTypeKey = paramTypeKeys[k];\n            const val = cmd.values[k];\n            paramProps.push(this.props.makeParamProps(pTypeKey,val));\n          }\n          //console.log(\"calling makeCommandElem\");\n          cmdList.push(this.props.makeCommandElem(nodeKey,configKey,cmdKey,hostKey,paramProps) );\n        }\n        //console.log(\"calling makeConfigElem  cmds:\" + cmdList.length);\n        configList.push(this.props.makeConfigElem(configKey,cmdKeys,cmdList) );\n      }\n      nodeList.push(this.makeIonNodeElem(nodeKey,configList) );\n    }\n    return (\n      <Grid fluid>\n        <Row>\n          <div className=\"row mt-4\">\n            <Col className=\"text-right\" sm={1}><Label bsSize=\"lg\" bsStyle=\"default\">ION Node List</Label></Col>\n            <Col className=\"text-right\" sm={1}><b>{name}</b></Col>\n            <Col className=\"text-left\"  sm={2}>ION Node Servers {nodeCnt}</Col>\n            <Col sm={3}> \n              <ButtonToolbar>\n                <Button bsSize=\"sm\" bsStyle=\"primary\" disabled={dimNewIonNode} onClick={this.newnode}>New Ion Node</Button>  \n                <Button bsSize=\"sm\" bsStyle=\"success\" onClick={this.expand}><Glyphicon glyph={expandIcon}/>{' '}</Button>\n              </ButtonToolbar>\n            </Col>\n          </div>\n        </Row>\n        <Row>\n          {nodeEntry}\n        </Row>\n        <Panel  collapsible expanded={expandMode}>\n          {nodeList}\n        </Panel>\n      </Grid>\n    )\n  };\n  expand = () => {       // activated by expand/contract shutter icon\n    var newState = Object.assign({},this.state);\n    var expandMode = this.state.expandMode;\n    if (expandMode)\n      console.log(\"let's close-up node list!\");\n    else\n      console.log(\"let's expand node list!\");\n    newState.expandMode = !expandMode;  // toggling flag changes render\n    this.setState (newState);\n  };\n  newnode = () => {     // activated by newnode button\n    var newState = Object.assign({},this.state);\n    console.log(\"add a new node!\");\n    newState.newIonNode= true;   // setting flag changes render\n    this.setState (newState);\n  };\n  nonewnode = () => {   // activated by new node cancel button\n    var newState = Object.assign({},this.state);\n    console.log(\"cancel add a new node!\");\n    newState.newIonNode = false;   // setting flag changes render\n    this.setState (newState);\n  };\n  handleNewIonNode = (e) => {\n    const val = e.target.value;\n    console.log(\"a new node name!\" + val);\n    var newState = Object.assign({},this.state);\n    newState.newIonNodeId = val;\n    this.setState (newState);\n    e.preventDefault();\n  };\n  submitNewIonNode = (e) => {\n    console.log(\"a new node!\" + e);\n    const nodeKey = this.state.newIonNodeId;\n    console.log(\"node name = \" + nodeKey);\n    let msg = \"\";\n    if (!this.props.isGoodName(nodeKey) )\n      msg = \"IonNode name is mal-formed.\";\n    else if (!this.isGoodIonNodeKey(nodeKey) )\n      msg = \"IonNode name already used.\" ;\n    if (msg === \"\") {  // all good!\n      const tran = {\n        action: \"NEW-NODE\",\n        nodeKey: nodeKey\n      };\n      this.props.dispatch(tran);\n      this.setState({\n        expandMode: true,    // open up to show new node\n        newIonNode: false,   // setting flag changes render\n        newIonNodeId: \"\",\n        newIonNodeMsg: \"\"\n      });\n    } else {        // set msg to show problem\n      this.setState({\n        newIonNodeMsg: msg\n      });\n    }\n    e.preventDefault();\n  };\n}\n\nIonNodeList.propTypes = {\n  name: PropTypes.string.isRequired,            // user model - model name\n  currentContacts: PropTypes.string.isRequired, // user model - network contacts name\n\n  nodes: PropTypes.array.isRequired,          // node objects of the ION network\n  hosts: PropTypes.array.isRequired,          // host objects of the ION network\n  configs: PropTypes.array.isRequired,        // config objects of the ION network\n  commands: PropTypes.array.isRequired,       // config objects of the ION network\n  ipaddrs: PropTypes.array.isRequired,        // ipaddr objects of the ION network\n\n  isGoodName: PropTypes.func.isRequired,      // validate name format\n  isGoodNodeNum: PropTypes.func.isRequired,   // validate node num\n  usedNodeKey: PropTypes.func.isRequired,     // used as node key?\n  makeCmdLines: PropTypes.func.isRequired,    // all lines formatting of config file\n  makeStartLines: PropTypes.func.isRequired,  // all lines for a start script\n  makeTypeOptions: PropTypes.func.isRequired, // get dynamic (cloned) options\n  makeOptionElems: PropTypes.func.isRequired, // func to provide options\n  makeConfigElem: PropTypes.func.isRequired,  // build config element\n  makeCommandElem: PropTypes.func.isRequired, // build command element\n  makeParamProps: PropTypes.func.isRequired,  // build param props\n\n  dispatch: PropTypes.func.isRequired\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}