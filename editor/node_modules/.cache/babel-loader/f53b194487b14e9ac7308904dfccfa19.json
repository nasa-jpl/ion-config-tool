{"ast":null,"code":"import _classCallCheck from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/rlborgen/git/ionconfig/editor/node_modules/@babel/runtime/helpers/esm/createSuper.js\";//        NetModelLoader.jsx     NetModelLoader React Component\n//\n//        Copyright (c) 2018, California Institute of Technology.\n//        ALL RIGHTS RESERVED.  U.S. Government Sponsorship\n//        acknowledged.\n//                                                                   \n//      Author: Rick Borgen, Jet Propulsnet Laboratory         +\n//                                                               \nimport React from'react';import{FormControl}from'react-bootstrap';import{Col}from'react-bootstrap';import{Button,ButtonToolbar}from'react-bootstrap';import{Glyphicon}from'react-bootstrap';import{Alert}from'react-bootstrap';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var NetModelLoader=/*#__PURE__*/function(_React$Component){_inherits(NetModelLoader,_React$Component);var _super=_createSuper(NetModelLoader);function NetModelLoader(props){var _this;_classCallCheck(this,NetModelLoader);_this=_super.call(this,props);_this.handleFileChange=function(e){// special fetch of file object from html5 file input widget\nvar modfile=document.getElementById('netmodel').files[0];console.log(\"filename change!\"+modfile.name);console.log(\"state: \"+JSON.stringify(_this.state.net));//console.log(\"state: \" + JSON.stringify(this));\nvar newState=Object.assign({},_this.state);newState.modelFile=modfile;newState.errMsg=\"\";_this.setState(newState);};_this.handleFileLoad=function(e){// now we operate on the file contents, since loading is complete\n//console.log(\"result: \" + e.target.result);\nconsole.log(\"$$$$$ extract model!\");var json={};var newState=Object.assign({},_this.state);try{json=JSON.parse(e.target.result);}catch(err){_this.setError(\"Failed to parse the JSON file. \"+err);return;}//console.log(\"Parse result: \" + JSON.stringify(json));\nnewState.modelJson=json;_this.setState(newState);if(!_this.extractModel())// extract & flatten model into state\nreturn;// skip the load transaction on failure\n//console.log(\"model object = \" + JSON.stringify(this.state.modelJson));\nvar tran={action:\"LOAD-NET-MODEL\",netModel:_this.state.net,netHosts:_this.state.netHosts,netNodes:_this.state.netNodes,netHops:_this.state.netHops};_this.props.dispatch(tran);};_this.load=function(){console.log(\"load net model!\"+_this.state.modelFile);try{console.log(\"create file for: \"+_this.state.modelFile);var modfile=_this.state.modelFile;console.log(\"model file name: \"+modfile.name);var reader=new FileReader();reader.onload=_this.handleFileLoad;reader.readAsText(modfile);}catch(err){_this.setError(\"Failed to load the Net Model file.\");}};console.log(\"NetModelLoader ctor\");var netObj={\"name\":\"test\",\"desc\":\"Test Net Model\"};_this.state={net:netObj,// model attributes\nmodelFile:\"\",// File object\nmodelJson:{},// JSON object\nnetHosts:{},netNodes:{},netHops:{},errMsg:\"\"};console.log(\"NetModelLoader ctor done.\");return _this;}_createClass(NetModelLoader,[{key:\"setError\",value:function setError(msg){console.log(msg);var newState=Object.assign({},this.state);newState.errMsg=msg;this.setState(newState);}},{key:\"getBool\",value:function getBool(flag){// return boolean type\n// could be boolean already, or a boolean string\nif(!flag||flag===\"false\"||flag===\"no\")return false;return true;}},{key:\"extractModel\",value:function extractModel(){// extract the Net config JSON structure &\n// flatten the data structures for efficient access\n// make short names for state objects\nvar modelObj=this.state.modelJson;var net=this.state.net;var hosts=this.state.netHosts;var nodes=this.state.netNodes;var hops=this.state.netHops;var netaddrs=this.props.netAddrs;console.log(\"=== Ingesting user net model.  net: \"+JSON.stringify(net));console.log(\"net WAS: \"+JSON.stringify(net));if(modelObj.hasOwnProperty(\"netModelName\"))net.name=modelObj[\"netModelName\"];else{this.setError(\"The json file is not a Net Model.\");return false;}if(modelObj.hasOwnProperty(\"netModelDesc\"))net.desc=modelObj[\"netModelDesc\"];console.log(\"=== Ingesting netHosts.\");var hostList=[];if(modelObj.hasOwnProperty(\"netHosts\"))hostList=modelObj.netHosts;for(var hostKey in hostList){var hostObj=hostList[hostKey];var desc='';if(hostObj.hasOwnProperty(\"hostDesc\"))desc=hostObj[\"hostDesc\"];var addrs=[];if(hostObj.hasOwnProperty(\"ipAddrs\"))addrs=hostObj[\"ipAddrs\"];// build the hosts state object\nhosts[hostKey]={\"id\":hostKey,\"hostDesc\":desc,\"ipAddrs\":addrs};// add the ip addrs to master list\nfor(var i=0;i<addrs.length;i++){netaddrs.push(addrs[i]);}};console.log(\"net IS:  \"+JSON.stringify(net));console.log(\"=== Ingesting netNodes.\");var nodeList=[];if(modelObj.hasOwnProperty(\"netNodes\"))// optional for now.\nnodeList=modelObj.netNodes;for(var nodeKey in nodeList){var nodeObj=nodeList[nodeKey];desc='';if(nodeObj.hasOwnProperty(\"nodeDesc\"))desc=nodeObj[\"nodeDesc\"];var host='';if(nodeObj.hasOwnProperty(\"nodeHost\"))host=nodeObj[\"nodeHost\"];var type='';if(nodeObj.hasOwnProperty(\"nodeType\"))type=nodeObj[\"nodeType\"];var ep='';if(nodeObj.hasOwnProperty(\"endpointID\"))ep=nodeObj[\"endpointID\"];var servs=[];if(nodeObj.hasOwnProperty(\"services\"))servs=nodeObj[\"services\"];// build the nodes state object\nnodes[nodeKey]={\"id\":nodeKey,\"nodeDesc\":desc,\"nodeHost\":host,\"nodeType\":type,\"endpointID\":ep,\"services\":servs};}console.log(\"=== Ingesting netHops.\");var hopList=[];if(modelObj.hasOwnProperty(\"netHops\"))// optional for now.\nhopList=modelObj.netHops;for(var hopKey in hopList){var hopObj=hopList[hopKey];desc='';if(hopObj.hasOwnProperty(\"hopDesc\"))desc=hopObj[\"hopDesc\"];var fromnode='';if(hopObj.hasOwnProperty(\"fromNode\"))fromnode=hopObj[\"fromNode\"];var tonode='';if(hopObj.hasOwnProperty(\"toNode\"))tonode=hopObj[\"toNode\"];var bp='';if(hopObj.hasOwnProperty(\"bpLayer\"))bp=hopObj[\"bpLayer\"];var ltp='';if(hopObj.hasOwnProperty(\"ltpLayer\"))ltp=hopObj[\"ltpLayer\"];var rate=0;if(hopObj.hasOwnProperty(\"maxRate\"))rate=hopObj[\"maxRate\"];var sym=\"no\";if(hopObj.hasOwnProperty(\"symmetric\"))sym=this.getBool(hopObj[\"symmetric\"]);// build the nodes state object\nhops[hopKey]={\"id\":hopKey,\"hopName\":hopKey,\"hopDesc\":desc,\"fromNode\":fromnode,\"toNode\":tonode,\"bpLayer\":bp,\"ltpLayer\":ltp,\"maxRate\":rate,\"symmetric\":sym};};return true;}},{key:\"makeAlertElem\",value:function makeAlertElem(msg){return/*#__PURE__*/_jsx(Alert,{bsStyle:\"danger\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"ERROR: \",msg]})});}},{key:\"render\",value:function render(){// NOTE: this is an uncontrolled input form, so no value parameter provided\n//     the html5 file input form controls its own state\nconsole.log(\"NetModelLoader render form\");// check for alert\nvar msg=this.state.errMsg;var alert=msg===\"\"?\"\":this.makeAlertElem(msg);var form=/*#__PURE__*/_jsx(FormControl,{id:\"netmodel\",name:\"name\",type:\"file\",label:\"Label\",accept:\".json\",className:\"inputClass\",onChange:this.handleFileChange});var icon=\"remove\";console.log(\"NetModelLoader render div\");return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",sm:2,children:/*#__PURE__*/_jsx(\"b\",{children:\"Net Model File (.json)\"})}),/*#__PURE__*/_jsx(Col,{sm:2,children:form}),/*#__PURE__*/_jsx(Col,{sm:2,children:/*#__PURE__*/_jsxs(ButtonToolbar,{children:[/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"primary\",onClick:this.load,children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{bsSize:\"sm\",bsStyle:\"success\",onClick:this.props.noLoadNetModel,children:/*#__PURE__*/_jsx(Glyphicon,{glyph:icon})})]})}),/*#__PURE__*/_jsx(Col,{sm:4,children:alert})]});}}]);return NetModelLoader;}(React.Component);export{NetModelLoader as default};","map":{"version":3,"names":["React","FormControl","Col","Button","ButtonToolbar","Glyphicon","Alert","NetModelLoader","props","handleFileChange","e","modfile","document","getElementById","files","console","log","name","JSON","stringify","state","net","newState","Object","assign","modelFile","errMsg","setState","handleFileLoad","json","parse","target","result","err","setError","modelJson","extractModel","tran","action","netModel","netHosts","netNodes","netHops","dispatch","load","reader","FileReader","onload","readAsText","netObj","msg","flag","modelObj","hosts","nodes","hops","netaddrs","netAddrs","hasOwnProperty","desc","hostList","hostKey","hostObj","addrs","i","length","push","nodeList","nodeKey","nodeObj","host","type","ep","servs","hopList","hopKey","hopObj","fromnode","tonode","bp","ltp","rate","sym","getBool","alert","makeAlertElem","form","icon","noLoadNetModel","Component"],"sources":["/Users/rlborgen/git/ionconfig/editor/src/NetModelLoader.jsx"],"sourcesContent":["//        NetModelLoader.jsx     NetModelLoader React Component\n//\n//        Copyright (c) 2018, California Institute of Technology.\n//        ALL RIGHTS RESERVED.  U.S. Government Sponsorship\n//        acknowledged.\n//                                                                   \n//      Author: Rick Borgen, Jet Propulsnet Laboratory         +\n//                                                               \nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormControl} from 'react-bootstrap';\nimport {Col} from 'react-bootstrap';\nimport {Button, ButtonToolbar} from 'react-bootstrap';\nimport {Glyphicon} from 'react-bootstrap';\nimport {Alert} from 'react-bootstrap';\n\nexport default class NetModelLoader extends React.Component {\n  constructor (props) {\n    super(props);\n    console.log(\"NetModelLoader ctor\");\n    var netObj = { \"name\": \"test\", \"desc\": \"Test Net Model\"};\n    this.state = {\n      net: netObj,         // model attributes\n      modelFile: \"\",       // File object\n      modelJson: {},       // JSON object\n      netHosts: {},\n      netNodes: {},\n      netHops: {},\n\n      errMsg: \"\"\n    };\n    console.log(\"NetModelLoader ctor done.\");\n  }\n  setError(msg) {\n    console.log(msg);\n    var newState = Object.assign({},this.state);\n    newState.errMsg = msg;\n    this.setState (newState);\n  };\n  getBool(flag) {     // return boolean type\n    // could be boolean already, or a boolean string\n    if (!flag || flag === \"false\" || flag === \"no\")\n      return false;\n    return true;\n  }\n  extractModel () {\n    // extract the Net config JSON structure &\n    // flatten the data structures for efficient access\n\n    // make short names for state objects\n    const modelObj = this.state.modelJson;\n    var net = this.state.net;\n    var hosts = this.state.netHosts;\n    var nodes = this.state.netNodes;\n    var hops = this.state.netHops;\n    var netaddrs = this.props.netAddrs;\n\n    console.log(\"=== Ingesting user net model.  net: \" + JSON.stringify(net));\n    console.log(\"net WAS: \" + JSON.stringify(net));\n    if(modelObj.hasOwnProperty(\"netModelName\"))\n      net.name = modelObj[\"netModelName\"];\n    else {\n       this.setError(\"The json file is not a Net Model.\");\n       return false;\n    }\n    if(modelObj.hasOwnProperty(\"netModelDesc\"))\n      net.desc = modelObj[\"netModelDesc\"];\n\n    console.log(\"=== Ingesting netHosts.\");\n    var hostList = [];\n    if(modelObj.hasOwnProperty(\"netHosts\")) \n      hostList = modelObj.netHosts;\n    for (var hostKey in hostList) {\n      var hostObj = hostList[hostKey];\n      var desc = '';\n      if(hostObj.hasOwnProperty(\"hostDesc\"))\n        desc = hostObj[\"hostDesc\"];\n      let addrs = [];\n      if(hostObj.hasOwnProperty(\"ipAddrs\"))\n        addrs = hostObj[\"ipAddrs\"];\n\n      // build the hosts state object\n      hosts[hostKey] = { \n        \"id\" : hostKey, \n        \"hostDesc\" : desc,\n        \"ipAddrs\" : addrs\n      };\n      // add the ip addrs to master list\n      for (var i=0; i<addrs.length; i++)\n        netaddrs.push(addrs[i]);\n\n    };\n    console.log(\"net IS:  \" + JSON.stringify(net));\n    console.log(\"=== Ingesting netNodes.\");\n    var nodeList = [];\n    if(modelObj.hasOwnProperty(\"netNodes\"))  // optional for now.\n      nodeList = modelObj.netNodes;\n    for (var nodeKey in nodeList) {\n      var nodeObj = nodeList[nodeKey];\n      desc = '';\n      if(nodeObj.hasOwnProperty(\"nodeDesc\"))\n        desc =nodeObj[\"nodeDesc\"];\n      var host = '';\n      if(nodeObj.hasOwnProperty(\"nodeHost\"))\n        host =nodeObj[\"nodeHost\"];\n      var type = '';\n      if(nodeObj.hasOwnProperty(\"nodeType\"))\n        type =nodeObj[\"nodeType\"];\n      var ep = '';\n      if(nodeObj.hasOwnProperty(\"endpointID\"))\n         ep = nodeObj[\"endpointID\"];\n      var servs= [];\n      if(nodeObj.hasOwnProperty(\"services\"))\n        servs = nodeObj[\"services\"];\n      // build the nodes state object\n      nodes[nodeKey] = { \n        \"id\" : nodeKey, \n        \"nodeDesc\" : desc, \n        \"nodeHost\" : host,\n        \"nodeType\" : type,\n        \"endpointID\" : ep,\n        \"services\" : servs\n      };\n    }\n    console.log(\"=== Ingesting netHops.\");\n    var hopList = [];\n    if(modelObj.hasOwnProperty(\"netHops\"))  // optional for now.\n      hopList = modelObj.netHops;\n    for (var hopKey in hopList) {\n      var hopObj = hopList[hopKey];\n      desc = '';\n      if(hopObj.hasOwnProperty(\"hopDesc\"))\n        desc = hopObj[\"hopDesc\"];\n      var fromnode = '';\n      if(hopObj.hasOwnProperty(\"fromNode\"))\n        fromnode = hopObj[\"fromNode\"];\n      var tonode = '';\n      if(hopObj.hasOwnProperty(\"toNode\"))\n        tonode = hopObj[\"toNode\"];\n      var bp = '';\n      if(hopObj.hasOwnProperty(\"bpLayer\"))\n        bp = hopObj[\"bpLayer\"];\n      var ltp = '';\n      if(hopObj.hasOwnProperty(\"ltpLayer\"))\n        ltp = hopObj[\"ltpLayer\"];\n      var rate = 0;\n      if(hopObj.hasOwnProperty(\"maxRate\"))\n        rate = hopObj[\"maxRate\"];\n      var sym = \"no\";\n      if(hopObj.hasOwnProperty(\"symmetric\"))\n        sym = this.getBool(hopObj[\"symmetric\"]);\n      // build the nodes state object\n      hops[hopKey] = { \n        \"id\" : hopKey, \n        \"hopName\": hopKey,\n        \"hopDesc\": desc,\n        \"fromNode\": fromnode,\n        \"toNode\": tonode,\n        \"bpLayer\": bp,\n        \"ltpLayer\": ltp,\n        \"maxRate\": rate,\n        \"symmetric\": sym\n      };\n    };\n    return true;\n  };\n\n  makeAlertElem(msg) {\n    return (<Alert bsStyle=\"danger\"><b>ERROR: {msg}</b></Alert>);\n  };\n  render() {\n    // NOTE: this is an uncontrolled input form, so no value parameter provided\n    //     the html5 file input form controls its own state\n    console.log(\"NetModelLoader render form\");\n    // check for alert\n    let msg = this.state.errMsg;\n    var alert = (msg === \"\")?  \"\" : this.makeAlertElem(msg);\n    var form =\n      <FormControl\n        id=\"netmodel\"\n        name=\"name\"\n        type=\"file\"\n        label=\"Label\"\n        accept=\".json\"\n        className=\"inputClass\"\n        onChange={this.handleFileChange}\n      />;\n    let icon = \"remove\";\n    console.log(\"NetModelLoader render div\");\n    return (\n        <div>\n          <hr />\n          <Col className=\"text-right\" sm={2}><b>Net Model File (.json)</b></Col>\n          <Col sm={2}>{form}</Col>\n          <Col sm={2}>\n            <ButtonToolbar>\n              <Button bsSize=\"sm\" bsStyle=\"primary\" onClick={this.load}>Submit</Button>\n              <Button bsSize=\"sm\" bsStyle=\"success\" onClick={this.props.noLoadNetModel}><Glyphicon glyph={icon} /></Button>\n            </ButtonToolbar>\n          </Col>\n          <Col sm={4}>{alert}</Col>\n        </div>\n    )\n  };\n  handleFileChange = (e) => {\n    // special fetch of file object from html5 file input widget\n    var modfile = document.getElementById('netmodel').files[0];\n    console.log(\"filename change!\" + modfile.name);\n    console.log(\"state: \" + JSON.stringify(this.state.net));\n    //console.log(\"state: \" + JSON.stringify(this));\n    var newState = Object.assign({},this.state);\n    newState.modelFile = modfile;\n    newState.errMsg = \"\";\n    this.setState (newState);\n  };\n  handleFileLoad = (e) => {\n    // now we operate on the file contents, since loading is complete\n    //console.log(\"result: \" + e.target.result);\n    console.log(\"$$$$$ extract model!\");\n    var json = {};\n    var newState = Object.assign({},this.state);\n    try {\n      json = JSON.parse(e.target.result);\n    }\n    catch (err) {\n      this.setError(\"Failed to parse the JSON file. \" + err);\n      return;\n    }\n    //console.log(\"Parse result: \" + JSON.stringify(json));\n    newState.modelJson = json;\n    this.setState(newState);\n    if (!this.extractModel()) // extract & flatten model into state\n      return;                 // skip the load transaction on failure\n\n    //console.log(\"model object = \" + JSON.stringify(this.state.modelJson));\n    var tran = {\n      action: \"LOAD-NET-MODEL\",\n      netModel: this.state.net,\n      netHosts: this.state.netHosts,\n      netNodes: this.state.netNodes,\n      netHops: this.state.netHops\n    };\n    this.props.dispatch(tran);\n  };\n  load = () => {\n    console.log(\"load net model!\" + this.state.modelFile);\n    try {\n      console.log(\"create file for: \" + this.state.modelFile);\n      var modfile = this.state.modelFile;\n      console.log (\"model file name: \" + modfile.name);\n      var reader = new FileReader();\n      reader.onload = this.handleFileLoad;\n      reader.readAsText(modfile);\n    }\n    catch (err) {\n      this.setError(\"Failed to load the Net Model file.\");\n    }\n  };\n}\n\nNetModelLoader.propTypes = {\n  netAddrs:  PropTypes.array.isRequired,    // user model - net ipaddr names\n  noLoadNetModel: PropTypes.func.isRequired,// func to cancel load of model\n  dispatch: PropTypes.func.isRequired       // func to handle transactnets centrally\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}